# GlobalVariables スクリプト README

## 概要
このスクリプトは、Unityのゲーム開発において使用されるグローバル変数を管理し、その状態を監視・更新するためのものです。特に、ゲーム内の特定の条件（例：謎解きの進行状況）に基づいて、ゲームのクリア状況を判定する機能を提供します。

## スクリプトの内容

### プライベート変数
- `_isFirst`: 最初の条件を満たしたかどうかを示すブール値
- `_isSecond`: 二番目の条件を満たしたかどうかを示すブール値
- `_isThird`: 三番目の条件を満たしたかどうかを示すブール値
- `_isClear`: ゲームがクリアされたかどうかを示すブール値

### メソッド

#### SetValue
```csharp
private static void SetValue(ref bool field, bool value, string fieldName)
```
指定されたフィールドの値を更新し、変更があった場合にはそのフィールド名と新しい値をデバッグログに出力します。また、変更後のtrueの数をカウントして出力します。

#### PrintTrueCount
```csharp
public static void PrintTrueCount()
```
`_isFirst`, `_isSecond`, `_isThird`のうち、trueであるものの数をカウントしてデバッグログに出力します。カウントが3以上の場合、ゲームクリアと判定し、`_isClear`をtrueに設定します。

### プロパティ
- `isFirst`, `isSecond`, `isThird`: 各条件の状態を取得・設定するプロパティ。設定時には`SetValue`メソッドを使用。
- `isClear`: ゲームクリアの状態を取得するためのプロパティ。外部から設定することはできません。

### Unityのライフサイクルメソッド

#### Start
```csharp
void Start()
```
ゲーム開始時に、各条件の初期状態と、初期状態でのtrueの数をデバッグログに出力します。

## 使用方法

1. **スクリプトの配置**
   このスクリプトをUnityプロジェクトの任意のGameObjectにアタッチしてください。

2. **条件の設定**
   ゲームの進行に応じて、各条件（`isFirst`, `isSecond`, `isThird`）の値を更新します。例えば、プレイヤーが特定の謎を解いたときに、`GlobalVariables.isFirst = true;`と設定します。

3. **ゲームクリアの判定**
   各条件の更新時に自動的に`PrintTrueCount`が呼び出され、現在の条件の数がカウントされます。3つ全ての条件が満たされると、`_isClear`がtrueに設定され、デバッグログに「ゲームクリア」と出力されます。

## 注意点
- `isClear`プロパティは外部から設定することはできません。ゲームクリアの状態は内部でのみ管理されます。
- デバッグログはUnityのコンソールに出力されるため、ゲームの進行状況を確認するために利用できます。

このスクリプトを使用することで、ゲーム内の進行状況を簡単に追跡し、特定の条件が満たされたときに自動的にゲームクリアを判定することができます。 

